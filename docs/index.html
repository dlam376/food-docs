<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="description" content="Description" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0"
    />
    <link
      rel="stylesheet"
      href="//cdn.jsdelivr.net/npm/docsify@4/lib/themes/vue.css"
    />
    <link rel="stylesheet" href="./css/sidebar.css" />
  </head>
  <body>
    <nav>
      <a href="#/food/food_desc">食物介绍</a>
      <a href="#/food/food_recipe">食谱</a>
      <a href="#/">首页</a>
    </nav>
    <div id="app"></div>
    <script>
      window.$docsify = {
        repo: "https://github.com/jmh9966",
        coverpage: true,
        loadSidebar: true,
        // 全文搜索
        search: {
          paths: ["/", "/food/food_desc.md", "/food/food_recipe.md"],
          depth: 4,
          noData: "无结果!",
          placeholder: "搜索...",
        },
        count: {
          countable: true,
          fontsize: "0.9em",
          color: "rgb(90,90,90)",
          language: "chinese",
        },
        plugins: [
          // function (hook, vm) {
          //   hook.beforeEach(function (content, next) {
          //     // 判断当前是 food.md
          //     if (vm.route.file === "food/food_recipe.md" || vm.route.file === "food/food_desc.md") {
          //       // 获取 vm.route.file值中/到.md中间的字符串
          //       let filePath = vm.route.file.split("/");
          //       let fileName = filePath[filePath.length - 1].split(".")[0];
          //       renderDatabaseContent(fileName).then((markdown) => {
          //         next(markdown); // 替换原始内容
          //       });
          //     } else {
          //       next(content); // 否则不处理
          //     }
          //   });
          //   hook.doneEach(function () {
          //     generateSidebar();
          //   });
          // },
        ],
      };
    </script>
    <!-- Docsify v4 -->
    <script src="//cdn.jsdelivr.net/npm/docsify@4"></script>
    <!-- 动态加载md内容 -->
    <script src="./js/req_data.js"></script>
    <!-- 侧边栏折叠 -->
    <script src="./js/sidebar.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!-- 全文搜索 -->
    <script src="//unpkg.com/docsify/lib/plugins/search.min.js"></script>
    <!-- 字数统计 -->
    <script src="//unpkg.com/docsify-count/dist/countable.js"></script>
    <!-- 编辑插件 -->
    <!-- <script src="//cdn.jsdelivr.net/npm/docsify-edit-on-github"></script> -->
    <script src="./js/edit_gitgub.js"></script>
    <!-- 回到顶部 -->
    <script src="https://cdn.jsdelivr.net/gh/Sumsung524/docsify-backTop/dist/docsify-backTop.min.js"></script>

    <script>
      window.$docsify.plugins.push(
        EditOnGithubPlugin.create(
          "https://github.com/docsifyjs/docsify/blob/master/docs/",
          null,
          function (file) {
            if (file.indexOf("en") === -1) {
              return "编辑";
            } else {
              return "edit on git";
            }
          },
        )
      );
    </script>
  </body>
</html>
